<html>
<head>
    <link rel="stylesheet" type="text/css" href="../zoeosHelp.css" title="ZoeosHelp Styles" />
</head>
<body>

<h1 id="flow" class="default">Data flow and representation</h1>
<p>
	There are three primary types of data that ZoeOS retrieves from and sends to the remote. These are:
	<ul>
		<li>
			Presets (encompassing voices, links, zones and all their respective parameters)
		</li>
		<li>
			Sample names and headers
		</li>
		<li>
			Multimode and master parameters
		</li>
	</ul>
	<p>			
	ZoeOS employs an on-demand system for retrieving data - this means data is only retrieved from the remote as the user actaully needs it.
	For example, the first time the user requests that a preset be opened the data is retrieved from the remote
	and placed in a cache. This cache is a local representation of the remote data 
	and frees the system from having to repeatedly retrieve data each time the user needs to view or edit it.
	<h2 id="preset_states" class="default">Preset states</h2>	
	<p>
	Presets are accessed from the preset palette and transition through four states in the system:
	<ul>
		<li>
			Pending - the system knows nothing about the preset yet (solid green icon).
		</li>
		<li>
			Uncached - nothing but the preset name is known (see icon below).
		</li>
		<li>
			Cached - all the preset data has been retrieved from the remote via a preset dump (see icon below).
		</li>
		<li>
			Empty - if the preset location at the remote happens to be empty (see icon below).
		</li>
	</ul>
	<p>
	<img vspace = 15 hspace = 0 src="./PresetStates.jpg" alt="[Preset States]" >

	<h2 id="sample_states" class="default">Sample states</h2>	
	<p>
	Samples are accessed from the samples palette and the handling of samples is different to that of presets. Because sample data sets can be large and ZoeOS currently does not support
	direct sample editing, samples skip the uncached state and the audio data in the sample is not kept locally in the cache. Samples transition from a pending state directly to a cached state 
	which only holds the sample name and optionally the sample header if the device is SMDI coupled (in some ways 
	the sample cached state is quite similar to the preset uncached state).
	<p>
	The sample states in the system are:
	<ul>
		<li>
			Pending - the system knows nothing about the sample yet (solid green icon).
		</li>
		<li>
			Cached - the sample name and possibly the sample header has been retrieved (see icon below).
		</li>
		<li>
			Empty - if the sample location at the remote happens to be empty (see icon below).
		</li>
	</ul>
	<p>
	<img vspace = 15 hspace = 0 src="./SampleStates.jpg" alt="[Sample States]" >

	<h2 id="cache_consistency" class="default">Cache consistency</h2>
	<p>
	ZoeOS works hard to ensure the local data cache remains consistent with the remote. If the user makes changes to 
	presets, samples, master or multimode settings from the front panel, locally cached data may become inconsistent.
	<b>The user should ensure to refresh any data that was changed outside of ZoeOS.</b>
	Some causes of cache inconsistency and potential solutions follow:
	<p>
	<table>
		<tr>
			<th align=left>
				Source of inconsistency
			</th>
			<th align=left>
				Solution
			</th>
		</tr>
		<tr>
			<td>
			The user makes changes to a preset from the front panel
			</td>
			<td>
			Refresh the preset in ZoeOS
			</td>
		</tr>
		<tr>
			<td>
			The user loads a completely new bank from the front panel
			</td>
			<td>
			Perform the Refresh Bank command in the device palette
			</td>
		</tr>
		<tr>
			<td>
			The user merges a new bank from the front panel
			</td>
			<td>
			Perform Refresh bank in the device palette or just refresh the preset locations
			that were merged if the merged bank is small
			</td>
		</tr>
		<tr>
			<td>
			The user makes changes to the multimode from the front panel
			</td>
			<td>
				Refresh the multimode in ZoeOS by pressing the second top-left button in the multimode palette or
				by right clicking the background of the multimode palette and choosing the appropiate refresh command
			</td>
		</tr>
		<tr>
			<td>
			The user makes changes in any of the master sections from the front panel
			</td>
			<td>
				Refresh the master in ZoeOS by pressing by right clicking the background of the master palette 
				and choosing the appropiate refresh command
			</td>
		</tr>
		<tr>
			<td>
			Previous session restore option was active when a device was being marshalled, but the bank from the previous session 
			was not loaded on the remote
			</td>
			<td>
			Perform the Refresh Bank command in the device palette or load the bank from the previous session on the remote
			</td>
		</tr>
		</table>	
	<p>
	Cache inconsistency is generally less of a problem with samples as ZoeOS doesn't cache any audio data, but do be careful with cache inconsistency when dealing with presets. 
	Cache inconsistecy is unlikely to be a persistent problem for you, only ocassionally requiring your attention. Getting into the right habits while using ZoeOS will effectively eliminate it altogether.
	<br>
	<br>
</body>
</html>
